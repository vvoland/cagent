---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.anthropic.com
        body: '{"max_tokens":20,"messages":[{"content":[{"text":"Based on the following message a user sent to an AI assistant, generate a short, descriptive title (maximum 50 characters) that captures the main topic or purpose of the conversation. Return ONLY the title text, nothing else.\n\nUser message: test","cache_control":{"type":"ephemeral"},"type":"text"}],"role":"user"}],"model":"claude-3-7-sonnet-20250219","system":[{"text":"You are a helpful AI assistant that generates concise, descriptive titles for conversations. You will be given a conversation history and asked to create a title that captures the main topic.","cache_control":{"type":"ephemeral"},"type":"text"}],"tools":[],"stream":true}'
        url: https://api.anthropic.com/v1/messages
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        body: |+
            event: message_start
            data: {"type":"message_start","message":{"model":"claude-3-7-sonnet-20250219","id":"msg_019HzmEffBbC1QRrN5EQiRcF","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":96,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}}            }

            event: content_block_start
            data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}              }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Test"}  }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Message"} }

            event: ping
            data: {"type": "ping"}

            event: content_block_stop
            data: {"type":"content_block_stop","index":0           }

            event: ping
            data: {"type": "ping"}

            event: ping
            data: {"type": "ping"}

            event: message_delta
            data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":96,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":5}       }

            event: message_stop
            data: {"type":"message_stop" }

        headers: {}
        status: 200 OK
        code: 200
        duration: 734.233834ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        host: api.anthropic.com
        body: '{"max_tokens":64000,"messages":[{"content":[{"text":"test","cache_control":{"type":"ephemeral"},"type":"text"}],"role":"user"}],"model":"claude-3-7-sonnet-20250219","system":[{"text":"You are an AI assistant with expertise in the moby/moby project''s documentation.","cache_control":{"type":"ephemeral"},"type":"text"}],"tools":[{"input_schema":{"properties":{},"type":"object"},"name":"fetch_moby_documentation","description":"Fetch entire documentation file from GitHub repository: moby/moby. Useful for general questions. Always call this tool first if asked about moby/moby."},{"input_schema":{"properties":{"query":{"description":"The search query to find relevant documentation","type":"string"}},"required":["query"],"type":"object"},"name":"search_moby_documentation","description":"Semantically search within the fetched documentation from GitHub repository: moby/moby. Useful for specific queries."},{"input_schema":{"properties":{"page":{"description":"Page number to retrieve (starting from 1). Each page contains 30 results.","type":"number"},"query":{"description":"The search query to find relevant code files","type":"string"}},"required":["query"],"type":"object"},"name":"search_moby_code","description":"Search for code within the GitHub repository: \"moby/moby\" using the GitHub Search API (exact match). Returns matching files for you to query further if relevant."},{"input_schema":{"properties":{"url":{"description":"The URL of the document or page to fetch","type":"string"}},"required":["url"],"type":"object"},"name":"fetch_generic_url_content","description":"Generic tool to fetch content from any absolute URL, respecting robots.txt rules. Use this to retrieve referenced urls (absolute urls) that were mentioned in previously fetched documentation."}],"stream":true}'
        url: https://api.anthropic.com/v1/messages
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        body: |+
            event: message_start
            data: {"type":"message_start","message":{"model":"claude-3-7-sonnet-20250219","id":"msg_01MU1MMAvMthqVk7azXx2eKz","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":729,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}}         }

            event: content_block_start
            data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""} }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"I'"}       }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d be happy to help you"}        }

            event: ping
            data: {"type": "ping"}

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" with the"}           }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" moby/moby"}              }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" project. Your"}           }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" message"}          }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" \""}      }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"test\" seems"}  }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to be a simple"}             }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" test to check"}       }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" if I'm working properly"}  }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":".\n\nTo provide"}     }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" you"}        }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" with useful information about the"}         }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" moby/moby"}            }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" project ("}               }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"which is"}       }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the"} }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Docker Engine"} }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"'s"}  }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" core"} }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"), I can"}         }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" fetch"} }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the"}           }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" documentation"}    }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" first"}    }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to"}           }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" give"}               }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" you an"}               }

            event: content_block_delta
            data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" overview."}        }

            event: content_block_stop
            data: {"type":"content_block_stop","index":0             }

            event: content_block_start
            data: {"type":"content_block_start","index":1,"content_block":{"type":"tool_use","id":"toolu_01GLWQA6EprQDqdKGqchE6mE","name":"fetch_moby_documentation","input":{}}           }

            event: content_block_delta
            data: {"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":""}   }

            event: content_block_stop
            data: {"type":"content_block_stop","index":1    }

            event: message_delta
            data: {"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":729,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":111}       }

            event: message_stop
            data: {"type":"message_stop"        }

        headers: {}
        status: 200 OK
        code: 200
        duration: 565.07425ms
