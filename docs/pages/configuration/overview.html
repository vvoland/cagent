<h1>Configuration Overview</h1>
<p class="subtitle">cagent uses YAML configuration files to define agents, models, tools, and their relationships.</p>

<h2>File Structure</h2>

<p>A cagent YAML config has three main sections:</p>

<pre><code class="language-bash"># 1. Models ‚Äî define AI models with their parameters
models:
  claude:
    provider: anthropic
    model: claude-sonnet-4-0
    max_tokens: 64000

# 2. Agents ‚Äî define AI agents with their behavior
agents:
  root:
    model: claude
    description: A helpful assistant
    instruction: You are helpful.
    toolsets:
      - type: think

# 3. Providers ‚Äî optional custom provider definitions
providers:
  my_provider:
    api_type: openai_chatcompletions
    base_url: https://api.example.com/v1
    token_key: MY_API_KEY</code></pre>

<h2>Minimal Config</h2>

<p>The simplest possible configuration ‚Äî a single agent with an inline model:</p>

<pre><code class="language-yaml">agents:
  root:
    model: openai/gpt-4o
    description: A helpful assistant
    instruction: You are a helpful assistant.</code></pre>

<h2>Inline vs Named Models</h2>

<p>Models can be referenced inline or defined in the <code>models</code> section:</p>

<div class="cards">
  <div class="card" style="cursor:default;">
    <h3>Inline</h3>
    <p>Quick and simple. Use <code>provider/model</code> syntax directly.</p>
    <pre style="margin-top:12px"><code class="language-yaml">model: openai/gpt-4o</code></pre>
  </div>
  <div class="card" style="cursor:default;">
    <h3>Named</h3>
    <p>Full control over parameters. Reusable across agents.</p>
    <pre style="margin-top:12px"><code class="language-yaml">model: my_claude</code></pre>
  </div>
</div>

<h2>Config Sections</h2>

<div class="cards">
  <a class="card" href="#configuration/agents" onclick="event.preventDefault(); navigate('configuration/agents')">
    <div class="card-icon">ü§ñ</div>
    <h3>Agent Config</h3>
    <p>All agent properties: model, instruction, tools, sub-agents, and more.</p>
  </a>
  <a class="card" href="#configuration/models" onclick="event.preventDefault(); navigate('configuration/models')">
    <div class="card-icon">üß†</div>
    <h3>Model Config</h3>
    <p>Provider setup, parameters, thinking budget, and provider-specific options.</p>
  </a>
  <a class="card" href="#configuration/tools" onclick="event.preventDefault(); navigate('configuration/tools')">
    <div class="card-icon">üîß</div>
    <h3>Tool Config</h3>
    <p>Built-in tools, MCP tools, Docker MCP, and tool filtering.</p>
  </a>
</div>

<h2>Environment Variables</h2>

<p>API keys and secrets are read from environment variables ‚Äî never stored in config files:</p>

<table>
  <thead><tr><th>Variable</th><th>Provider</th></tr></thead>
  <tbody>
    <tr><td><code>OPENAI_API_KEY</code></td><td>OpenAI</td></tr>
    <tr><td><code>ANTHROPIC_API_KEY</code></td><td>Anthropic</td></tr>
    <tr><td><code>GOOGLE_API_KEY</code></td><td>Google Gemini</td></tr>
    <tr><td><code>MISTRAL_API_KEY</code></td><td>Mistral</td></tr>
    <tr><td><code>XAI_API_KEY</code></td><td>xAI</td></tr>
    <tr><td><code>NEBIUS_API_KEY</code></td><td>Nebius</td></tr>
  </tbody>
</table>

<div class="callout callout-warning">
  <div class="callout-title">‚ö†Ô∏è Important</div>
  <p>Model references are case-sensitive: <code>openai/gpt-4o</code> is not the same as <code>openai/GPT-4o</code>.</p>
</div>

<h2>Validation</h2>

<p>cagent validates your configuration at startup:</p>

<ul>
  <li>All <code>sub_agents</code> must reference agents defined in the config</li>
  <li>Named model references must exist in the <code>models</code> section</li>
  <li>Provider names must be valid (<code>openai</code>, <code>anthropic</code>, <code>google</code>, <code>dmr</code>, etc.)</li>
  <li>Required environment variables (API keys) must be set</li>
  <li>Tool-specific fields are validated (e.g., <code>path</code> is only valid for <code>memory</code>)</li>
</ul>

<h2>JSON Schema</h2>

<p>For editor autocompletion and validation, use the <a href="https://github.com/docker/cagent/blob/main/cagent-schema.json" target="_blank" rel="noopener noreferrer">cagent JSON Schema</a>. Add this to the top of your YAML file:</p>

<pre><code class="language-bash"># yaml-language-server: $schema=https://raw.githubusercontent.com/docker/cagent/main/cagent-schema.json</code></pre>
