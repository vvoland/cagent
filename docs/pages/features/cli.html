<h1>CLI Reference</h1>
<p class="subtitle">Complete reference for all cagent command-line commands and flags.</p>

<div class="callout callout-tip">
  <div class="callout-title">üí° No config needed</div>
  <p>Running <code>cagent run</code> without a config file uses a built-in default agent. Perfect for quick experimentation.</p>
</div>

<h2>Commands</h2>

<h3><code>cagent run</code></h3>
<p>Launch the interactive TUI with an agent configuration.</p>

<pre><code class="language-bash">$ cagent run [config] [message...] [flags]</code></pre>

<table>
  <thead><tr><th>Flag</th><th>Description</th></tr></thead>
  <tbody>
    <tr><td><code>-a, --agent &lt;name&gt;</code></td><td>Run a specific agent from the config</td></tr>
    <tr><td><code>--yolo</code></td><td>Auto-approve all tool calls</td></tr>
    <tr><td><code>--model &lt;ref&gt;</code></td><td>Override model(s). Use <code>provider/model</code> for all agents, or <code>agent=provider/model</code> for specific agents. Comma-separate multiple overrides.</td></tr>
    <tr><td><code>--session &lt;id&gt;</code></td><td>Resume a previous session. Supports relative refs (<code>-1</code> = last, <code>-2</code> = second to last)</td></tr>
    <tr><td><code>--prompt-file &lt;path&gt;</code></td><td>Include file contents as additional system context (repeatable)</td></tr>
    <tr><td><code>-c &lt;name&gt;</code></td><td>Run a named command from the YAML config</td></tr>
    <tr><td><code>-d, --debug</code></td><td>Enable debug logging</td></tr>
    <tr><td><code>--log-file &lt;path&gt;</code></td><td>Custom debug log location</td></tr>
    <tr><td><code>-o, --otel</code></td><td>Enable OpenTelemetry tracing</td></tr>
  </tbody>
</table>

<pre><code class="language-bash"># Examples
$ cagent run agent.yaml
$ cagent run agent.yaml "Fix the bug in auth.go"
$ cagent run agent.yaml -a developer --yolo
$ cagent run agent.yaml --model anthropic/claude-sonnet-4-0
$ cagent run agent.yaml --model "dev=openai/gpt-4o,reviewer=anthropic/claude-sonnet-4-0"
$ cagent run agent.yaml --session -1  # resume last session
$ cagent run agent.yaml -c df         # run named command
$ cagent run agent.yaml --prompt-file ./context.md  # include file as context

# Queue multiple messages (processed in sequence)
$ cagent run agent.yaml "question 1" "question 2" "question 3"</code></pre>

<h3><code>cagent run --exec</code></h3>
<p>Run an agent in non-interactive (headless) mode. No TUI ‚Äî output goes to stdout.</p>

<pre><code class="language-bash">$ cagent run --exec [config] [message...] [flags]</code></pre>

<pre><code class="language-bash"># One-shot task
$ cagent run --exec agent.yaml "Create a Dockerfile for a Python Flask app"

# With auto-approve
$ cagent run --exec agent.yaml --yolo "Set up CI/CD pipeline"

# Multi-turn conversation
$ cagent run --exec agent.yaml "question 1" "question 2" "question 3"</code></pre>

<h3><code>cagent new</code></h3>
<p>Interactively generate a new agent configuration file.</p>

<pre><code class="language-bash">$ cagent new [flags]

# Examples
$ cagent new
$ cagent new --model openai/gpt-5-mini --max-tokens 32000
$ cagent new --model dmr/ai/gemma3-qat:12B --max-iterations 15</code></pre>

<h3><code>cagent api</code></h3>
<p>Start the HTTP API server for programmatic access.</p>

<pre><code class="language-bash">$ cagent api [config] [flags]

# Examples
$ cagent api agent.yaml
$ cagent api agent.yaml --listen :8080
$ cagent api ociReference --pull-interval 10  # auto-refresh</code></pre>

<h3><code>cagent mcp</code></h3>
<p>Expose agents as MCP tools for use in Claude Desktop, Claude Code, or other MCP clients.</p>

<pre><code class="language-bash">$ cagent mcp [config] [flags]

# Examples
$ cagent mcp agent.yaml
$ cagent mcp agent.yaml --working-dir /path/to/project
$ cagent mcp agentcatalog/coder</code></pre>

<p>See <a href="#features/mcp-mode" onclick="event.preventDefault(); navigate('features/mcp-mode')">MCP Mode</a> for detailed setup.</p>

<h3><code>cagent serve a2a</code></h3>
<p>Start an A2A (Agent-to-Agent) protocol server.</p>

<pre><code class="language-bash">$ cagent serve a2a [config] [flags]

# Examples
$ cagent serve a2a agent.yaml
$ cagent serve a2a agent.yaml --listen 127.0.0.1:9000</code></pre>

<h3><code>cagent acp</code></h3>
<p>Start an ACP (Agent Client Protocol) server over stdio. This allows external clients to interact with your agents using the ACP protocol.</p>

<pre><code class="language-bash">$ cagent acp [config] [flags]

# Examples
$ cagent acp agent.yaml</code></pre>

<p>See <a href="#features/acp" onclick="event.preventDefault(); navigate('features/acp')">ACP</a> for details on the Agent Client Protocol.</p>

<h3><code>cagent push</code> / <code>cagent pull</code></h3>
<p>Distribute agents via OCI registries.</p>

<pre><code class="language-bash"># Push an agent
$ cagent push ./agent.yaml docker.io/username/my-agent:latest

# Pull an agent
$ cagent pull docker.io/username/my-agent:latest</code></pre>

<p>See <a href="#concepts/distribution" onclick="event.preventDefault(); navigate('concepts/distribution')">Agent Distribution</a> for full registry workflow details.</p>

<h3><code>cagent eval</code></h3>
<p>Run agent evaluations.</p>

<pre><code class="language-bash">$ cagent eval eval-config.yaml

# With flags
$ cagent eval agent.yaml ./evals -c 8              # 8 concurrent evaluations
$ cagent eval agent.yaml --keep-containers         # Keep containers for debugging
$ cagent eval agent.yaml --only "auth*"            # Only run matching evals</code></pre>

<h3><code>cagent alias</code></h3>
<p>Manage agent aliases for quick access.</p>

<pre><code class="language-bash"># List aliases
$ cagent alias ls

# Add an alias
$ cagent alias add pirate /path/to/pirate.yaml
$ cagent alias add other ociReference

# Add an alias with runtime options
$ cagent alias add yolo-coder agentcatalog/coder --yolo
$ cagent alias add fast-coder agentcatalog/coder --model openai/gpt-4o-mini
$ cagent alias add turbo agentcatalog/coder --yolo --model anthropic/claude-sonnet-4-0

# Use an alias
$ cagent run pirate
$ cagent run yolo-coder</code></pre>

<p><strong>Alias Options:</strong> Aliases can include runtime options that apply automatically when used:</p>

<ul>
  <li><code>--yolo</code> ‚Äî Auto-approve all tool calls when running the alias</li>
  <li><code>--model &lt;ref&gt;</code> ‚Äî Override the model for the alias</li>
</ul>

<p>When listing aliases, options are shown in brackets:</p>

<pre><code class="language-bash">$ cagent alias ls
Registered aliases (3):

  fast-coder  ‚Üí agentcatalog/coder [model=openai/gpt-4o-mini]
  turbo       ‚Üí agentcatalog/coder [yolo, model=anthropic/claude-sonnet-4-0]
  yolo-coder  ‚Üí agentcatalog/coder [yolo]

Run an alias with: cagent run &lt;alias&gt;</code></pre>

<div class="callout callout-tip">
  <div class="callout-title">üí° Override alias options</div>
  <p>Command-line flags override alias options. For example, <code>cagent run yolo-coder --yolo=false</code> disables yolo mode even though the alias has it enabled.</p>
</div>

<h2>Global Flags</h2>

<table>
  <thead><tr><th>Flag</th><th>Description</th></tr></thead>
  <tbody>
    <tr><td><code>-d, --debug</code></td><td>Enable debug logging (default: <code>~/.cagent/cagent.debug.log</code>)</td></tr>
    <tr><td><code>--log-file &lt;path&gt;</code></td><td>Custom debug log location</td></tr>
    <tr><td><code>-o, --otel</code></td><td>Enable OpenTelemetry tracing</td></tr>
    <tr><td><code>--help</code></td><td>Show help for any command</td></tr>
  </tbody>
</table>

<h2>Agent References</h2>

<p>Commands that accept a config support multiple reference types:</p>

<table>
  <thead><tr><th>Type</th><th>Example</th></tr></thead>
  <tbody>
    <tr><td>Local file</td><td><code>./agent.yaml</code></td></tr>
    <tr><td>OCI registry</td><td><code>docker.io/username/agent:latest</code></td></tr>
    <tr><td>Agent catalog</td><td><code>agentcatalog/pirate</code></td></tr>
    <tr><td>Alias</td><td><code>pirate</code> (after <code>cagent alias add</code>)</td></tr>
    <tr><td>Default</td><td>(no argument) ‚Äî uses built-in default agent</td></tr>
  </tbody>
</table>

<div class="callout callout-info">
  <div class="callout-title">‚ÑπÔ∏è Debugging</div>
  <p>Having issues? See <a href="#community/troubleshooting" onclick="event.preventDefault(); navigate('community/troubleshooting')">Troubleshooting</a> for debug mode, log analysis, and common solutions.</p>
</div>
